% General System Parameters ===============================================
StreamVelocityFunction = @FluidVelocityUniform;
startEquil = true;
seafloorConstraint = false;
MWL = 60;
rho_f = 1020; % [kg/m^3]
tf = 30;  % s
tStep = 0.02;  % s
domain = [-50 50 -50 50 0 40];
perspective = [105 10]; % [Azimuth, Elevation]
% =========================================================================

newBody('Name','CornerBuoy1','Mass',500,'MMoInertia',[4;4;4],'Vol',2,...
    'InitPosition',[0;0;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[4;4;4],'Dimensions',[6;6;6],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','CornerBuoy2','Mass',500,'MMoInertia',[4;4;4],'Vol',2,...
    'InitPosition',[500;0;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[4;4;4],'Dimensions',[6;6;6],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','CornerBuoy3','Mass',500,'MMoInertia',[4;4;4],'Vol',2,...
    'InitPosition',[0;187.5;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[4;4;4],'Dimensions',[6;6;6],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','CornerBuoy4','Mass',500,'MMoInertia',[4;4;4],'Vol',2,...
    'InitPosition',[500;187.5;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[4;4;4],'Dimensions',[6;6;6],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','CornerLine1','LineStart',[-20;-20;0],'EndFrame','CornerBuoy1',...
    'LineEnd',[0;0;-3],'LinearMass',4,'Diameter',0.06,'UnitK',48000,...
    'TangentialDrag',0.6,'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','CornerLine2','LineStart',[520;-20;0],'EndFrame','CornerBuoy2',...
    'LineEnd',[0;0;-3],'LinearMass',4,'Diameter',0.06,'UnitK',48000,...
    'TangentialDrag',0.6,'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','CornerLine3','LineStart',[-20;207.5;0],'EndFrame','CornerBuoy3',...
    'LineEnd',[0;0;-3],'LinearMass',4,'Diameter',0.06,'UnitK',48000,...
    'TangentialDrag',0.6,'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','CornerLine4','LineStart',[520;207.5;0],'EndFrame','CornerBuoy4',...
    'LineEnd',[0;0;-3],'LinearMass',4,'Diameter',0.06,'UnitK',48000,...
    'TangentialDrag',0.6,'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','Perimeter1','StartFrame','CornerBuoy1','LineStart',[0;3;0],'EndFrame','CornerBuoy3',...
    'LineEnd',[0;-3;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,...
    'TangentialDrag',0.6,'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','Perimeter2','StartFrame','CornerBuoy2','LineStart',[0;3;0],'EndFrame','CornerBuoy4',...
    'LineEnd',[0;-3;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

% Turbine 1 ===============================================================
newBody('Name','Turbine1','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[100;0;30],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine1Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',20,...
    'InitPosition',[100;0;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine1a','StartFrame','Turbine1Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine1',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine1b','StartFrame','Turbine1Buoy','LineStart',[3;0;-1],'EndFrame','Turbine1',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 2 ===============================================================
newBody('Name','Turbine2','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[175;0;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine2Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[175;0;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine2a','StartFrame','Turbine2Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine2',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine2b','StartFrame','Turbine2Buoy','LineStart',[3;0;-1],'EndFrame','Turbine2',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 3 ===============================================================
newBody('Name','Turbine3','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[250;0;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine3Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[250;0;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine3a','StartFrame','Turbine3Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine3',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine3b','StartFrame','Turbine3Buoy','LineStart',[3;0;-1],'EndFrame','Turbine3',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 4 ===============================================================
newBody('Name','Turbine4','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[325;0;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine4Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[325;0;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine4a','StartFrame','Turbine4Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine4',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine4b','StartFrame','Turbine4Buoy','LineStart',[3;0;-1],'EndFrame','Turbine4',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 5 ===============================================================
newBody('Name','Turbine5','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[400;0;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine5Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[400;0;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine5a','StartFrame','Turbine5Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine5',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine5b','StartFrame','Turbine5Buoy','LineStart',[3;0;-1],'EndFrame','Turbine5',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 6 ===============================================================
newBody('Name','Turbine6','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[137.5;187.5;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine6Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[137.5;187.5;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine6a','StartFrame','Turbine6Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine6',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine6b','StartFrame','Turbine6Buoy','LineStart',[3;0;-1],'EndFrame','Turbine6',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 7 ===============================================================
newBody('Name','Turbine7','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[212.5;187.5;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine7Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[212.5;187.5;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine7a','StartFrame','Turbine7Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine7',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine7b','StartFrame','Turbine7Buoy','LineStart',[3;0;-1],'EndFrame','Turbine7',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 8 ===============================================================
newBody('Name','Turbine8','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[287.5;187.5;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine8Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[287.5;187.5;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine8a','StartFrame','Turbine8Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine8',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine8b','StartFrame','Turbine8Buoy','LineStart',[3;0;-1],'EndFrame','Turbine8',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

% Turbine 9 ===============================================================
newBody('Name','Turbine9','Mass',19300,'MMoInertia',[4;4;4],'Vol',9.67,...
    'InitPosition',[362.5;187.5;30],'Drag',[1.2;1.2;1.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[10;250;10],'Dimensions',[25;10;25],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newBody('Name','Turbine9Buoy','Mass',50,'MMoInertia',[4;4;4],'Vol',4,...
    'InitPosition',[362.5;187.5;56],'Drag',[0.2;0.2;0.2],...
    'TransDissipation',5,'AngularDissipation',50,'Area',[30;30;60],'Dimensions',[25;15;2],...
    'AppliedForcesGlobal',[0;0;0],'Penetrating',false);

newLine('Name','TurbuoyLine9a','StartFrame','Turbine9Buoy','LineStart',[-3;0;-1],'EndFrame','Turbine9',...
    'LineEnd',[-1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);

newLine('Name','TurbuoyLine9b','StartFrame','Turbine9Buoy','LineStart',[3;0;-1],'EndFrame','Turbine9',...
    'LineEnd',[1;0;2],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',1,'DampingCoeff',2000);
%End of Turbines ==========================================================

newLine('Name','TurbineLine1','StartFrame','CornerBuoy1','LineStart',[3;0;0],'EndFrame','Turbine1',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine2','StartFrame','Turbine1','LineStart',[3;0;0],'EndFrame','Turbine2',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine3','StartFrame','Turbine2','LineStart',[3;0;0],'EndFrame','Turbine3',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine4','StartFrame','Turbine3','LineStart',[3;0;0],'EndFrame','Turbine4',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine5','StartFrame','Turbine4','LineStart',[3;0;0],'EndFrame','Turbine5',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine6','StartFrame','Turbine5','LineStart',[3;0;0],'EndFrame','CornerBuoy2',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine7','StartFrame','CornerBuoy3','LineStart',[3;0;0],'EndFrame','Turbine6',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine8','StartFrame','Turbine6','LineStart',[3;0;0],'EndFrame','Turbine7',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine9','StartFrame','Turbine7','LineStart',[3;0;0],'EndFrame','Turbine8',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine10','StartFrame','Turbine8','LineStart',[3;0;0],'EndFrame','Turbine9',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);

newLine('Name','TurbineLine11','StartFrame','Turbine9','LineStart',[3;0;0],'EndFrame','CornerBuoy4',...
    'LineEnd',[-3;0;0],'LinearMass',4,'Diameter',0.06,'UnitK',48000,'TangentialDrag',0.6,...
    'NormalDrag',0.6,'NumSegments',4,'DampingCoeff',2000);